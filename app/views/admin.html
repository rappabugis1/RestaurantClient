<body>

  <div class="container text-center container-admin">

    <uib-tabset class="mainAdminTabs" active="activeTab">

      <uib-tab index="0" heading="Dashboard">
        {{active}}
        <div class="row">
          <div class="col-xs-12 col-sm-4">
            <div class="admin-dash-card">
              <img src="../images/ajax-loader.gif" ng-show="loading" />
              <h2>{{counters.restaurantsNumber}}</h2>
              <h5>Restaurants</h5>
              <button class="btn btn-block btn-home " ng-click="changeActive(1)">Manage Restaurants</button>
            </div>
          </div>
          <div class="col-xs-12 col-sm-4">
            <div class="admin-dash-card">
              <img src="../images/ajax-loader.gif" ng-show="loading" />
              <h2>{{counters.locationsNumber}}</h2>
              <h5>Locations</h5>
              <button class="btn btn-block btn-home " ng-click="changeActive(2)">Manage Locations</button>
            </div>
          </div>
          <div class="col-xs-12 col-sm-4">
            <div class="admin-dash-card">
              <img src="../images/ajax-loader.gif" ng-show="loading" />
              <h2>{{counters.usersNumber}}</h2>
              <h5>Users</h5>
              <button class="btn btn-block btn-home " ng-click="changeActive(4)">Manage Users</button>
            </div>
          </div>

        </div>

      </uib-tab>

      <uib-tab index="1" heading="Restaurants">


        <div ng-controller="AdminRestaurantManipulationController as rest">

          <div ng-show="!view" >
            <div class="card-admin-tabs">

              <ul class="list-inline text-left admin-tabs">
                <li   >
                  <h5  class="admin-tab-name">Restaurants :</h5>
                </li>

                <li class="a-admin float-right"  >
                  <button class="btn btn-block admin-add-button" ng-click="changeView('Add')">Add Restaurant</button>
                </li>
                <li class="a-admin float-right" >
                  <input type="text" class="admin-search" ng-model="searchText" ng-change="filter()" maxlength=40 placeholder="Search" >
                </li>
              </ul>
            </div>

            <div class=" container-table"  >
              <table class="table table-bordered">
                <thead>
                <tr>
                  <th>Name</th>
                  <th class="col-xs-1"></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="row in filterResults">
                  <td>{{row.restaurantName}}</td>

                  <td class="icon-col">
                    <span class="glyphicon glyphicon-pencil table-icon" ng-click="changeView('Edit', row)"></span> <span class="glyphicon glyphicon-trash table-icon"></span>
                  </td>
                </tr>

                </tbody>
              </table>
            </div>

            <ul uib-pagination total-items="numPages" ng-model="bigCurrentPage" max-size="maxSize" class="pagination-sm" boundary-link-numbers="true" ng-change="filter()" ></ul>

          </div>

          <div  ng-show="view">
            <form name="restaurantForm" class="admin-add-rest-form" novalidate  >
              <uib-tabset active="activeForm">

                <!--Basic details-->

                <uib-tab index="0" heading="Basic details">

                  <div class="tab-pane-admin">
                    <ng-form name="nestedForm">
                      <div class="row">
                        <div class="col-xs-12 col-sm-6 col-logo">
                          <div class="form-label">Add logo/profile</div>
                          <input type="file" ng-file-select="onFileSelect($files)" id="logoSrc" class="inputfile" ng-model="rest.imageLogoSrc">
                          <label for="logoSrc" class="uploadlogo" ng-show="!rest.imageLogoSrc">
                            <img class="uploadcloud" src="../images/upload-cloud.png">
                            Upload Logo/Profile
                          </label>
                          <label for="logoSrc" class="uploadlogo" ng-show="rest.imageLogoSrc">
                            <img class="uploadedImage" ng-src="{{rest.imageLogoSrc}}">
                          </label>

                        </div>
                        <div class="col-xs-12 col-sm-6">
                          <div class="form-label">Add cover</div>

                          <input type="file" ng-file-select="onFileSelect($files)" id="coverSrc" class="inputfile" ng-model="imageCoverSrc">
                          <label for="coverSrc" class="uploadcover" ng-show="!imageCoverSrc">
                            <img class="uploadcloud " src="../images/upload-cloud.png" ng-src="{{imageCoverSrc}}" >
                            Upload Cover Photo
                          </label>
                          <label for="coverSrc" class="uploadcover" ng-show="imageCoverSrc">
                            <img class="uploadedImage" ng-src="{{imageCoverSrc}}">
                          </label>


                        </div>
                      </div>
                      <div class="row">
                        <div class="col-xs-12 col-sm-6">
                          <div class="form-label">Name</div>
                          <input name="restaurantName"
                                 class="login-form-control input-lg input-admin-forms input-admin-forms "
                                 type="text"
                                 id="restaurantName"
                                 placeholder="Restaurant name"
                                 ng-model="restaurantName"
                                 required="required">

                        </div>
                        <div class="col-xs-12 col-sm-6">
                          <div class="col-xs-12 col-sm-6  col-inside">
                            <div class="form-label">Country</div>
                            <select class="custom-select login-form-control input-lg input-admin-forms"
                                    ng-model="country"
                                    ng-options="c.country_name for c in locations"
                                    required="required">
                              <option value="" disabled selected>Country</option>
                            </select>
                          </div>
                          <div class="col-xs-12 col-sm-6 col-inside">
                            <div class="form-label">Location</div>
                            <select class=" login-form-control input-lg input-admin-forms"
                                    ng-model="city"
                                    ng-options="d.name.valueOf() for d in country.city_names"
                                    required="required">
                              <option value="" disabled selected>City</option>
                            </select>
                          </div>

                        </div>
                      </div>
                      <div class="row">
                        <div class="col-xs-12 col-sm-6 ">
                          <div class="form-label">Categories</div>
                          <div class="categories-add-restaurant-panel">
                            <ul class="list-inline text-left">
                              <li  ng-repeat="category in pickedCategories">
                                <button class="btn btn-added-category" ng-click="deleteCategory($index)">
                                  {{category}}  <span class="glyphicon glyphicon-remove"></span>
                                </button>
                              </li>
                            </ul>

                          </div>
                          <div class="col-xs-12 col-sm-offset-9 col-sm-3 no-padding">
                            <select class="admin-add-categories-select login-form-control input-lg input-admin-forms  " ng-model="pickedCategory" ng-options="category.name for category in categories track by category.name" ng-change="pickCategory(pickedCategory); ">
                              <option value="" disabled selected>Categories</option>
                            </select>
                          </div>


                        </div>
                        <div class="col-xs-12 col-sm-6">
                          <div class="form-label">Description</div>
                          <textarea name="resDescription" rows="5"
                                    class="login-form-control input-lg "
                                    type="text"
                                    id="resDescription"
                                    placeholder="Enter a description"
                                    ng-model="resDescription"
                                    required="required"
                          ></textarea>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-xs-12 col-sm-6">
                          <div class="form-label">Coordinates (Place a marker)</div>

                          <div class="admin-map">
                            <ui-gmap-google-map center='map.center' zoom='map.zoom' events='marker.events'>
                              <ui-gmap-marker
                                idKey="2"
                                coords= 'marker.coordinates'>
                              </ui-gmap-marker>
                            </ui-gmap-google-map>
                          </div>

                        </div>
                        <div class="col-xs-12 col-sm-6">
                          <div class="form-label">Price Range</div>
                          <select class="admin-add-categories-select login-form-control input-lg input-admin-forms  " ng-model="priceRange"  ng-options="price for price in priceRanges" >
                            <option value="" disabled selected>Price Range</option>

                          </select>

                        </div>
                      </div>

                    </ng-form>
                  </div>

                </uib-tab>

                <!--Menu-->

                <uib-tab index="1" heading="Menu">
                  <div class="tab-pane-admin">
                    <div class="row admin-menu-dish-margin admin-menu-select " >
                      <div class="col-xs-12 col-sm-10 admin-menu-row">
                        <div class="btn-group">
                          <label class="btn btn-menu" ng-model="radioModel" uib-btn-radio="'Breakfast'">Breakfast</label>
                          <label class="btn btn-menu" ng-model="radioModel" uib-btn-radio="'Lunch'">Lunch</label>
                          <label class="btn btn-menu" ng-model="radioModel" uib-btn-radio="'Dinner'">Dinner</label>
                        </div>
                      </div>

                      <div class="col-xs-12 col-sm-2">
                        <button class="btn admin-menu-add" ng-click="addNewDish(radioModel)">Add new dish</button>
                      </div>

                    </div>


                    <div class="row admin-menu-row admin-dish-row" ng-repeat="dish in dishes | filter:radioModel:dish.menuType">
                      <div class="col-xs-12 col-sm-1  admin-menu-dish-margin">
                        {{$index+1}}.
                      </div>
                      <div class="col-xs-12 col-sm-5">
                        <input
                          type="text"
                          class="login-form-control input-lg input-text-dish input-admin-forms admin-menu-dish-margin"
                          placeholder="Name"
                          ng-model="dish.name">

                        <input
                          type="text"
                          class="login-form-control input-lg input-text-dish input-admin-forms admin-menu-dish-margin"
                          placeholder="Description"
                          ng-model="dish.description">
                      </div>

                      <div class="col-xs-12 col-sm-2">
                        <select class="custom-select login-form-control input-lg input-text-dish input-admin-forms admin-menu-dish-margin"
                                ng-model="dish.dishType"
                                ng-options="dishType for dishType in dishTypes"
                                required="required">
                          <option value="" disabled selected>Dish Type</option>
                        </select>
                      </div>


                      <div class="col-xs-12 col-sm-2">
                        <input
                          type="number"
                          class="login-form-control input-lg input-admin-forms admin-menu-dish-margin"
                          min=1
                          placeholder="Price"
                          ng-model="dish.price">
                      </div>

                      <div class="col-xs-12 col-sm-1">
                        <div class="glyphicon glyphicon-trash admin-menu-dish-margin admin-menu-trash" ng-click="removeDish(dishes.indexOf(dish))"></div>
                      </div>
                    </div>

                  </div>
                </uib-tab>

                <!--Tables-->

                <uib-tab index="2" heading="Tables">
                  <div class="tab-pane-admin">
                    <div class="row admin-menu-dish-margin admin-menu-select " >
                      <button class="btn admin-menu-add float-right" ng-click="addNewTables()" ng-disabled="tablesPayload.length===10">Add new table</button>
                    </div>
                    <div class="row admin-menu-row admin-dish-row" ng-repeat="tables in tablesPayload">
                      <div class="col-xs-12 col-sm-1  admin-menu-dish-margin">
                        {{$index+1}}.
                      </div>
                      <div class="col-xs-12 col-sm-5" >
                        <select ng-options="table.label as table.label disable when (table.disabled && (tables.tableType==='Select type of tables' || tables.tableType!==table.label)) for table in tablesList" ng-model="tables.tableType" ng-change="typeChanged(tables.tableType, '{{tables.tableType}}', tables)" class="login-form-control input-lg input-text-dish input-admin-forms admin-menu-dish-margin">
                        </select>
                      </div>

                      <div class="col-xs-12 col-sm-2">
                        <input type="number" min=1 max="25" class="login-form-control input-lg input-admin-forms admin-menu-dish-margin" placeholder="Amount" ng-model="tables.amount">
                      </div>

                      <div class="col-xs-12 col-sm-1">
                        <div class="glyphicon glyphicon-trash admin-menu-dish-margin admin-menu-trash"  ng-click="removeTables(tablesPayload.indexOf(tables))"></div>
                      </div>
                    </div>
                  </div>

                </uib-tab>

                <!--Reservations-->

                <uib-tab index="3" heading="Reservations">
                  <div class="tab-pane-admin">

                    <div class="row">
                      <div class="col-xs-12 col-sm-6 hr-admin">
                        <div class="form-label">Choose default length of reservation </div>
                        <p class="form-label-exp">This will be the length for each group of people (in minutes, step 15 minutes) if not chosen otherwise</p>

                        <input name="defaultStay"
                               class="login-form-control input-lg input-admin-forms admin-menu-dish-margin"
                               type="number"
                               id="defaultStay"
                               placeholder="Default Length"
                               ng-model="defaultLength"
                               required="required"
                               min="15"
                               max="720"
                               step="15">
                      </div>
                    </div>


                    <hr>

                    <div class="row">
                      <div class="col-xs-12 col-sm-6">
                        <div class="form-label">Or choose length for a specific group (in minutes)</div>

                      </div>
                      <div class="col-xs-12 col-sm-6">
                        <button class="btn admin-menu-add float-right" ng-click="addLength()">Add new group</button>
                      </div>
                    </div>

                    <div class="row admin-menu-row admin-dish-row reservation-lenght-row" ng-repeat="length in reservationLengths">
                      <div class="row">
                        <div class="col-xs-12 col-sm-1  admin-menu-dish-margin">
                          {{$index+1}}.
                        </div>
                        <div class="col-xs-12 col-sm-3" >
                          <input name="guestNumber"
                                 class="login-form-control input-lg input-admin-forms admin-menu-dish-margin "
                                 type="number"
                                 id="guestNumber"
                                 placeholder="Number of Guests"
                                 ng-model="length.guestNumber"
                                 required="required"
                                 min="1"
                                 max="16"
                                 step="1">
                        </div>

                        <div class="col-xs-12 col-sm-1">
                          <div class="glyphicon glyphicon-trash admin-menu-dish-margin admin-menu-trash"  ng-click="removeLength($index)"></div>
                        </div>
                      </div>


                      <div class="row admin-length-days">
                        <div class="col-xs-12 col-sm-4">
                          <p class="form-label-exp length">Monday - Friday</p>

                          <p class="day-p">In the Morning</p>

                          <input name="morningWork"
                                 class="login-form-control input-lg input-admin-forms admin-menu-dish-margin"
                                 type="number"
                                 id="morningWork"
                                 placeholder="Average meal length"
                                 ng-model="length.workday.morning"
                                 required="required"
                                 min="15"
                                 max="245"
                                 step="15">

                          <p class="day-p">Noon till Evening</p>

                          <input name="dayWork"
                                 class="login-form-control input-lg input-admin-forms admin-menu-dish-margin"
                                 type="number"
                                 id="dayWork"
                                 placeholder="Average meal length"
                                 ng-model="length.workday.day"
                                 required="required"
                                 min="15"
                                 max="245"
                                 step="15">

                          <p class="day-p">Evening</p>

                          <input name="eveningWork"
                                 class="login-form-control input-lg input-admin-forms admin-menu-dish-margin"
                                 type="number"
                                 id="eveningWork"
                                 placeholder="Average meal length"
                                 ng-model="length.workday.evening"
                                 required="required"
                                 min="15"
                                 max="245"
                                 step="15">

                        </div>
                        <div class="col-xs-12 col-sm-offset-2 col-sm-4">
                          <p class="form-label-exp length">Saturday, Sunday</p>

                          <p class="day-p">In the Morning</p>

                          <input name="morningWeek"
                                 class="login-form-control input-lg input-admin-forms admin-menu-dish-margin"
                                 type="number"
                                 id="morningWeek"
                                 placeholder="Average meal length"
                                 ng-model="length.weekend.morning"
                                 required="required"
                                 min="15"
                                 max="245"
                                 step="15">

                          <p class="day-p">Noon till Evening</p>

                          <input name="dayWeek"
                                 class="login-form-control input-lg input-admin-forms admin-menu-dish-margin"
                                 type="number"
                                 id="dayWeek"
                                 placeholder="Average meal length"
                                 ng-model="length.weekend.day"
                                 required="required"
                                 min="15"
                                 max="245"
                                 step="15">

                          <p class="day-p">Evening</p>

                          <input name="eveningWeek"
                                 class="login-form-control input-lg input-admin-forms admin-menu-dish-margin"
                                 type="number"
                                 id="eveningWeek"
                                 placeholder="Average meal length"
                                 ng-model="length.weekend.evening"
                                 required="required"
                                 min="15"
                                 max="245"
                                 step="15">
                        </div>
                      </div>
                    </div>

                  </div>

                </uib-tab>

              </uib-tabset>

              <div class="admin-rest-form">

                <div class="col-sm-offset-6 col-xs-12 col-sm-6">
                  <div class="col-xs-12 col-sm-6">
                    <button class="btn admin-menu-add btn-block" type="button" ng-click="cancel()">
                      Back
                    </button>
                  </div>

                  <div class="col-xs-12 col-sm-6">
                    <button type="submit"
                            class="btn btn-primary btn-block no-border btn-lg input-admin-forms btn-submit"
                            ng-disabled="restaurantForm.$invalid">
                      Save Restaurant
                    </button>

                    <!--<img class="center-block loading" src="../images/ajax-loader.gif" ng-show="!loading" /> -->

                  </div>
                </div>

              </div>
            </form>


          </div>

        </div>



      </uib-tab>

      <uib-tab index="2" heading="Locations" >

        <div ng-controller="AdminLocationManipulationController">

          <div ng-show="!view" >
            <div class="card-admin-tabs">
              <ul class="list-inline text-left admin-tabs">
                <li   >
                  <h5  class="admin-tab-name">Locations :</h5>
                </li>

                <li class="a-admin float-right" >
                  <button class="btn btn-block admin-add-button" ng-click="changeView('Add')">Add Location</button>
                </li>
                <li class="a-admin float-right">
                  <input type="text" class="admin-search" ng-model="searchText" ng-change="filter()" maxlength=40 placeholder="Search" >
                </li>
              </ul>
            </div>

            <div class=" container-table"  >
              <table class="table table-bordered">
                <thead>
                <tr>
                  <th class="col-xs-5">Name</th>
                  <th class="col-xs-5">Country</th>
                  <th class="col-xs-1"></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="row in filterResults">
                  <td>{{row.name}}</td>
                  <td>{{row.country}}</td>
                  <td class="icon-col">
                    <span class="glyphicon glyphicon-pencil table-icon" ng-click="changeView('Edit', row)"></span> <span class="glyphicon glyphicon-trash table-icon"></span>
                  </td>
                </tr>

                </tbody>
              </table>
            </div>

            <ul uib-pagination total-items="numPages" ng-model="bigCurrentPage" max-size="maxSize" class="pagination-sm" boundary-link-numbers="true" ng-change="filter()" ></ul>

          </div>

          <div class="container card-admin-tabs " ng-show="view">

            <!--add-->
            <form name="LocationAddForm" class="admin-add-user" ng-show="add===true" ng-submit="changeLocation('Add')" novalidate>
              <div class="row">
                <div class="col-xs-12 col-sm-6">
                  <div class="col-xs-12 col-sm-6">
                    <input type="text" maxlength="240" ng-model="locationName" class="login-form-control input-lg input-admin-forms" placeholder="New Location Name" required>
                    <div ng-if="error" class="alert alert-danger">{{error}}</div>
                    <div ng-if="success" class="alert alert-success">{{success}}</div>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <input type="text" maxlength="240" ng-model="countryName" class="login-form-control input-lg input-admin-forms" placeholder="Existing or New Country Name" required>
                  </div>

                </div>
                <div class="col-xs-12 col-sm-6">
                  <div class="col-xs-12 col-sm-6">
                    <button class="btn admin-menu-add btn-block" type="button" ng-click="cancel()">
                      Back
                    </button>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <button type="submit"
                            class="btn btn-primary btn-block no-border btn-lg input-admin-forms btn-submit"
                            ng-disabled="LocationAddForm.$invalid">
                      Create Location
                    </button>

                    <!--<img class="center-block loading" src="../images/ajax-loader.gif" ng-show="!loading" /> -->

                  </div>
                </div>
              </div>
            </form>

            <!--edit-->
            <form name="LocationEditForm" class="admin-add-user" ng-show="edit===true" ng-submit="changeLocation('Edit')" novalidate>
              <div class="row">
                <div class="col-xs-12 col-sm-6">
                  <div class="col-xs-12 col-sm-6">
                    <input type="text" maxlength="240" ng-model="locationName" class="login-form-control input-lg input-admin-forms" placeholder="New Location Name" required>
                    <div ng-if="error" class="alert alert-danger">{{error}}</div>
                    <div ng-if="success" class="alert alert-success">{{success}}</div>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <input type="text" maxlength="240" ng-model="countryName" class="login-form-control input-lg input-admin-forms" placeholder="Existing or New Country Name" required>
                  </div>
                </div>
                <div class="col-xs-12 col-sm-6">
                  <div class="col-xs-12 col-sm-6">
                    <button class="btn admin-menu-add btn-block" type="button" ng-click="cancel()">
                      Back
                    </button>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <button type="submit"
                            class="btn btn-primary btn-block no-border btn-lg input-admin-forms btn-submit"
                            ng-disabled="LocationEditForm.$invalid">
                      Save Location
                    </button>

                    <!--<img class="center-block loading" src="../images/ajax-loader.gif" ng-show="!loading" /> -->

                  </div>
                </div>
              </div>
            </form>

          </div>

        </div>

      </uib-tab>

      <uib-tab index="3" heading="Categories" >

        <div ng-controller="AdminCategoryManipulationController as $cat">

          <div ng-show="!view" >
            <div class="card-admin-tabs">

              <ul class="list-inline text-left admin-tabs">
                <li   >
                  <h5  class="admin-tab-name">Categories :</h5>
                </li>

                <li class="a-admin float-right"  >
                  <button class="btn btn-block admin-add-button" ng-click="changeView('Add')">Add Category</button>
                </li>
                <li class="a-admin float-right" >
                  <input type="text" class="admin-search" ng-model="searchText" ng-change="filter()" maxlength=40 placeholder="Search" >
                </li>
              </ul>
            </div>

            <div class=" container-table"  >
              <table class="table table-bordered">
                <thead>
                <tr>
                  <th>Name</th>
                  <th class="col-xs-1"></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="row in filterResults">
                  <td>{{row.name}}</td>

                  <td class="icon-col">
                    <span class="glyphicon glyphicon-pencil table-icon" ng-click="changeView('Edit', row)"></span> <span class="glyphicon glyphicon-trash table-icon"></span>
                  </td>
                </tr>

                </tbody>
              </table>
            </div>

            <ul uib-pagination total-items="numPages" ng-model="bigCurrentPage" max-size="maxSize" class="pagination-sm" boundary-link-numbers="true" ng-change="filter()" ></ul>

          </div>

          <div class="container card-admin-tabs " ng-show="view">

            <!--add-->
            <form name="CategoryForm" class="admin-add-user" ng-show="add===true" ng-submit="changeCategory('Add')" novalidate>
              <div class="row">
                <div class="col-xs-12 col-sm-6">

                  <input type="text" maxlength="240" ng-model="categoryName" class="login-form-control input-lg input-admin-forms" placeholder="New Category Name" required>
                  <div ng-if="error" class="alert alert-danger">{{error}}</div>
                  <div ng-if="success" class="alert alert-success">{{success}}</div>
                </div>
                <div class="col-xs-12 col-sm-6">
                  <div class="col-xs-12 col-sm-6">
                    <button class="btn admin-menu-add btn-block" type="button" ng-click="cancel()">
                      Back
                    </button>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <button type="submit"
                            class="btn btn-primary btn-block no-border btn-lg input-admin-forms btn-submit"
                            ng-disabled="CategoryForm.$invalid">
                      Create Category
                    </button>

                    <!--<img class="center-block loading" src="../images/ajax-loader.gif" ng-show="!loading" /> -->

                  </div>
                </div>
              </div>
            </form>

            <!--edit-->
            <form name="CategoryForm" class="admin-add-user" ng-show="edit===true" ng-submit="changeCategory('Edit')" novalidate>
              <div class="row">
                <div class="col-xs-12 col-sm-6">

                  <input type="text" maxlength="240" ng-model="categoryName" class="login-form-control input-lg input-admin-forms" placeholder="Edit Category Name" required>
                  <div ng-if="error" class="alert alert-danger">{{error}}</div>
                  <div ng-if="success" class="alert alert-success">{{success}}</div>
                </div>
                <div class="col-xs-12 col-sm-6">
                  <div class="col-xs-12 col-sm-6">
                    <button class="btn admin-menu-add btn-block" type="button" ng-click="cancel()">
                      Back
                    </button>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <button type="submit"
                            class="btn btn-primary btn-block no-border btn-lg input-admin-forms btn-submit"
                            ng-disabled="CategoryForm.$invalid">
                      Save Category
                    </button>

                    <!--<img class="center-block loading" src="../images/ajax-loader.gif" ng-show="!loading" /> -->

                  </div>
                </div>
              </div>
            </form>

          </div>

        </div>

      </uib-tab>

      <uib-tab index="4" heading="Users">

        <div ng-controller="AdminUserManipulationController">

          <div ng-show="!view" >
            <div class="card-admin-tabs">

              <ul class="list-inline text-left admin-tabs">
                <li   >
                  <h5  class="admin-tab-name">Users :</h5>
                </li>

                <li class="a-admin float-right"  >
                  <button class="btn btn-block admin-add-button" ng-click="changeView('Add')">Add User</button>
                </li>
                <li class="a-admin float-right" >
                  <input type="text" class="admin-search" ng-model="searchText" ng-change="filter()" maxlength=40 placeholder="Search" >
                </li>
              </ul>
            </div>

            <div class=" container-table"  >
              <table class="table table-bordered">
                <thead>
                <tr>
                  <th>Firstname</th>
                  <th>Lastname</th>
                  <th>Email</th>
                  <th class="col-xs-1"></th>
                </tr>
                </thead>
                <tbody>
                <tr  ng-repeat="row in filterResults">
                  <td>{{row.user_data.firstName}}</td>
                  <td>{{row.user_data.lastName}}</td>
                  <td>{{row.email}}</td>
                  <td class="icon-col">
                    <span class="glyphicon glyphicon-pencil table-icon" ng-click="changeView('Edit', row)"></span> <span class="glyphicon glyphicon-trash table-icon"></span>
                  </td>
                </tr>

                </tbody>
              </table>
            </div>

            <ul uib-pagination total-items="numPages" ng-model="bigCurrentPage" max-size="maxSize" class="pagination-sm" boundary-link-numbers="true" ng-change="filter()" ></ul>

          </div>

          <div class="container card-admin-tabs "  ng-show="view">
            <form  name="registerForm" class="admin-add-user" ng-submit="addSubmit(registerForm.$valid)" novalidate>
              <div class="row">
                <div class="col-xs-12 col-sm-6">
                  <h5>First Name</h5>
                  <div class="form-group formg">
                    <input name="firstName"
                           class="login-form-control input-lg input-admin-forms"
                           type="text"
                           id="firstName"
                           placeholder="First Name"
                           ng-model="firstName"
                           required="required">
                  </div>

                  <h5>Last Name</h5>

                  <div class="form-group formg">
                    <input name="lastName"
                           class="login-form-control input-lg input-admin-forms"
                           type="text"
                           id="lastName"
                           placeholder="Last Name"
                           ng-model="lastName"
                           required="required"
                    >
                  </div>

                  <h5>Email</h5>

                  <div class="form-group formg"
                       ng-class="{'has-error' : registerForm.email.$invalid && !registerForm.email.$pristine}">
                    <input name="email"
                           class="login-form-control input-lg input-admin-forms "
                           type="email"
                           id="email"
                           placeholder="Email"
                           ng-model="email"
                           required="required">
                    <p ng-show="registerForm.email.$invalid && !registerForm.email.$pristine" class="help-block">Enter a valid email.</p>
                  </div>

                  <h5>Phone</h5>

                  <div class="form-group formg"
                       ng-class="{'has-error' : registerForm.phone.$touched && !registerForm.phone.$pristine && !registerForm.phone.$valid  }">
                    <input name="phone"
                           class="login-form-control input-lg input-admin-forms "
                           type="text" id="phone"
                           placeholder="Phone Number"
                           ng-model="phone"
                           ng-minlength="9"
                           required="required">

                    <p ng-show="registerForm.phone.$touched && !registerForm.phone.$pristine && !registerForm.phone.$valid" class="help-block">Phone number must be at least 9 cases long.</p>
                  </div>



                  <div class="row no-gutters">
                    <div class="col-sm-6  formg">
                      <h5>Country</h5>

                      <select class="custom-select login-form-control input-lg input-admin-forms"
                              ng-model="country"
                              ng-options="c.country_name for c in locations"
                              required="required">
                        <option value="" disabled selected>Country</option>
                      </select>
                    </div>

                    <div class="col-sm-6 formg ">
                      <h5>City</h5>

                      <select class=" login-form-control input-lg input-admin-forms"
                              ng-model="city"
                              ng-options="d.name.valueOf() for d in country.city_names"
                              required="required">
                        <option value="" disabled selected>City</option>
                      </select>
                    </div>
                  </div>

                  <h5>Password</h5>

                  <div class="form-group formg"
                       ng-class="{'has-error' : registerForm.password.$touched && !registerForm.password.$pristine && !registerForm.password.$valid }">
                    <input name="password"
                           class="login-form-control input-lg input-admin-forms "
                           type="password"
                           id="password"
                           placeholder="Password"
                           ng-model="password"
                           required="required"
                           minlength=5>
                    <p ng-show=" registerForm.password.$touched && !registerForm.password.$pristine && !registerForm.password.$valid" class="help-block">Password needs to be at least 5 characters long!</p>

                  </div>

                  <h5>Confirm Password</h5>

                  <div class="form-group formg bottom"
                       ng-class="{'has-error' : registerForm.confirmPassword.$touched   && confirmPassword!=password || !registerForm.confirmPassword.$pristine && !registerForm.confirmPassword.$valid }">
                    <input name="confirmPassword"
                           class="login-form-control input-lg input-admin-forms"
                           type="password"
                           id="confirmPassword"
                           placeholder="Confirm Password"
                           ng-model="confirmPassword"
                           required="required"
                           minlength=5>

                    <p ng-show=" registerForm.confirmPassword.$touched  && confirmPassword!=password" class="help-block">Passwords do not match.</p>
                  </div>


                  <div ng-if="error" class="alert alert-danger">{{error}}</div>
                  <div ng-if="success" class="alert alert-success">{{success}}</div>
                </div>

                <div class="col-xs-12 col-sm-6 button-admin-add-user">

                  <div class="col-xs-12 col-sm-6">
                    <button class="btn admin-menu-add btn-block" type="button" ng-click="cancel()">
                      Back
                    </button>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <button type="submit"
                            class="btn btn-primary btn-block no-border btn-lg input-admin-forms btn-submit"
                            ng-disabled="registerForm.$invalid">
                      Save User
                    </button>
                    <div>
                      <img class="center-block loading" src="../images/ajax-loader.gif" ng-show="loading" />
                    </div>
                  </div>


                </div>
              </div>

            </form>
          </div>

        </div>


      </uib-tab>

    </uib-tabset >


  </div>
</body>
