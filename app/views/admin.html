<body>

  <div class="container text-center container-admin">

    <uib-tabset class="mainAdminTabs">

      <uib-tab heading="Dashboard">

        <div class="row">
          <div class="col-xs-12 col-sm-4">
            <div class="admin-dash-card">
              <img src="../images/ajax-loader.gif" ng-show="loading" />
              <h2>{{counters.restaurantsNumber}}</h2>
              <h5>Restaurants</h5>
              <button class="btn btn-block btn-home ">Add a Restaurant</button>
            </div>
          </div>
          <div class="col-xs-12 col-sm-4">
            <div class="admin-dash-card">
              <img src="../images/ajax-loader.gif" ng-show="loading" />
              <h2>{{counters.locationsNumber}}</h2>
              <h5>Locations</h5>
              <button class="btn btn-block btn-home ">Add a Location</button>
            </div>
          </div>
          <div class="col-xs-12 col-sm-4">
            <div class="admin-dash-card">
              <img src="../images/ajax-loader.gif" ng-show="loading" />
              <h2>{{counters.usersNumber}}</h2>
              <h5>Users</h5>
              <button class="btn btn-block btn-home ">Add a User</button>
            </div>
          </div>

        </div>

      </uib-tab>

      <uib-tab heading="Restaurants">

        <div ng-controller="AdminRestaurantManipulationController">

          <div ng-show="!view" >
            <div class="card-admin-tabs">

              <ul class="list-inline text-left admin-tabs">
                <li   >
                  <h5  class="admin-tab-name">Restaurants :</h5>
                </li>

                <li class="a-admin float-right"  >
                  <button class="btn btn-block admin-add-button" ng-click="changeView('Add')">Add Restaurant</button>
                </li>
                <li class="a-admin float-right" >
                  <input type="text" class="admin-search" ng-model="searchText" ng-change="filter()" maxlength=40 placeholder="Search" >
                </li>
              </ul>
            </div>

            <div class=" container-table"  >
              <table class="table table-bordered">
                <thead>
                <tr>
                  <th>Name</th>
                  <th class="col-xs-1"></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="row in filterResults">
                  <td>{{row.restaurantName}}</td>

                  <td class="icon-col">
                    <span class="glyphicon glyphicon-pencil table-icon" ng-click="changeView('Edit', row)"></span> <span class="glyphicon glyphicon-trash table-icon"></span>
                  </td>
                </tr>

                </tbody>
              </table>
            </div>

            <ul uib-pagination total-items="numPages" ng-model="bigCurrentPage" max-size="maxSize" class="pagination-sm" boundary-link-numbers="true" ng-change="filter()" ></ul>

          </div>

        </div>

        <div>
          <form name="outerForm" class="admin-add-rest-form" novalidate ng-controller="AdminRestaurantManipulationController" ng-if=" currentObject==='Restaurants'">
            <uib-tabset active="activeForm">

              <!--Basic details-->

              <uib-tab index="0" heading="Basic details">
                <div class="tab-pane-admin">
                  <ng-form name="nestedForm">
                    <div class="row">
                      <div class="col-xs-12 col-sm-6 col-logo">
                        <div class="form-label">Add logo</div>
                        <input type="file" ng-file-select="onFileSelect($files)" id="logoSrc" class="inputfile" ng-model="imageLogoSrc">
                        <label for="logoSrc" class="uploadlogo">
                          <img class="uploadcloud" src="../images/upload-cloud.png">
                          Upload Logo
                        </label>

                      </div>
                      <div class="col-xs-12 col-sm-6">
                        <div class="form-label">Add cover</div>

                        <input type="file" ng-file-select="onFileSelect($files)" id="coverSrc" class="inputfile" ng-model="imageLogoSrc">
                        <label for="logoSrc" class="uploadcover">
                          <img class="uploadcloud " src="../images/upload-cloud.png">
                          Upload Cover Photo
                        </label>

                      </div>
                    </div>
                    <div class="row">
                      <div class="col-xs-12 col-sm-6">
                        <div class="form-label">Name</div>
                        <input name="restaurantName"
                               class="login-form-control input-lg input-admin-forms input-admin-forms "
                               type="text"
                               id="restaurantName"
                               placeholder="Restaurant name"
                               ng-model="restaurantName"
                               required="required">

                      </div>
                      <div class="col-xs-12 col-sm-6">
                        <div class="col-xs-12 col-sm-6  col-inside">
                          <div class="form-label">Country</div>

                        </div>
                        <div class="col-xs-12 col-sm-6 col-inside">
                          <div class="form-label">Location</div>

                        </div>

                      </div>
                    </div>
                    <div class="row">
                      <div class="col-xs-12 col-sm-6 ">
                        <div class="form-label">Category</div>

                      </div>
                      <div class="col-xs-12 col-sm-6">
                        <div class="form-label">Description</div>
                        <textarea name="resDescription" rows="5"
                                  class="login-form-control input-lg "
                                  type="text"
                                  id="resDescription"
                                  placeholder="Enter a description"
                                  ng-model="resDescription"
                                  required="required"
                        ></textarea>
                      </div>
                    </div>

                  </ng-form>
                </div>

              </uib-tab>

              <!--Menu-->

              <uib-tab index="1" heading="Menu">
                <div class="tab-pane-admin">
                  <div class="row admin-menu-dish-margin admin-menu-select " >
                    <div class="col-xs-12 col-sm-10 admin-menu-row">
                      <div class="btn-group">
                        <label class="btn btn-menu" ng-model="radioModel" uib-btn-radio="'Breakfast'">Breakfast</label>
                        <label class="btn btn-menu" ng-model="radioModel" uib-btn-radio="'Lunch'">Lunch</label>
                        <label class="btn btn-menu" ng-model="radioModel" uib-btn-radio="'Dinner'">Dinner</label>
                      </div>
                    </div>

                    <div class="col-xs-12 col-sm-2">
                      <button class="btn admin-menu-add" ng-click="addNewDish(radioModel)">Add new dish</button>
                    </div>

                  </div>


                  <div class="row admin-menu-row admin-dish-row" ng-repeat="dish in dishes | filter:radioModel:dish.menuType">
                    <div class="col-xs-12 col-sm-1  admin-menu-dish-margin">
                      {{$index+1}}.
                    </div>
                    <div class="col-xs-12 col-sm-5">
                      <input
                        type="text"
                        class="login-form-control input-lg input-text-dish input-admin-forms admin-menu-dish-margin"
                        placeholder="Name"
                        ng-model="dish.name">

                      <input
                        type="text"
                        class="login-form-control input-lg input-text-dish input-admin-forms admin-menu-dish-margin"
                        placeholder="Description"
                        ng-model="dish.description">
                    </div>

                    <div class="col-xs-12 col-sm-2">
                      <input
                        type="number"
                        class="login-form-control input-lg input-admin-forms admin-menu-dish-margin"
                        min=1
                        placeholder="Price"
                        ng-model="dish.price">
                    </div>

                    <div class="col-xs-12 col-sm-1">
                      <div class="glyphicon glyphicon-trash admin-menu-dish-margin admin-menu-trash" ng-click="removeDish(dishes.indexOf(dish))"></div>
                    </div>
                  </div>

                </div>
              </uib-tab>

              <!--Tables-->

              <uib-tab index="2" heading="Tables">
                <div class="tab-pane-admin">
                  <div class="row admin-menu-dish-margin admin-menu-select " >
                    <button class="btn admin-menu-add float-right" ng-click="addNewTables()" ng-disabled="tablesPayload.length===10">Add new table</button>
                  </div>
                  <div class="row admin-menu-row admin-dish-row" ng-repeat="tables in tablesPayload">
                    <div class="col-xs-12 col-sm-1  admin-menu-dish-margin">
                      {{$index+1}}.
                    </div>
                    <div class="col-xs-12 col-sm-5" >
                      <select ng-options="table.label as table.label disable when (table.disabled && (tables.tableType==='Select type of tables' || tables.tableType!==table.label)) for table in tablesList" ng-model="tables.tableType" ng-change="typeChanged(tables.tableType, '{{tables.tableType}}', tables)" class="login-form-control input-lg input-text-dish input-admin-forms admin-menu-dish-margin">
                      </select>
                    </div>

                    <div class="col-xs-12 col-sm-2">
                      <input type="number" min=1 max="25" class="login-form-control input-lg input-admin-forms admin-menu-dish-margin" placeholder="Amount" ng-model="tables.amount">
                    </div>

                    <div class="col-xs-12 col-sm-1">
                      <div class="glyphicon glyphicon-trash admin-menu-dish-margin admin-menu-trash"  ng-click="removeTables(tablesPayload.indexOf(tables))"></div>
                    </div>
                  </div>
                </div>

              </uib-tab>
            </uib-tabset>
          </form>
        </div>

      </uib-tab>

      <uib-tab heading="Locations" >

        <div ng-controller="AdminLocationManipulationController">

          <div ng-show="!view" >
            <div class="card-admin-tabs">

              <ul class="list-inline text-left admin-tabs">
                <li   >
                  <h5  class="admin-tab-name">Locations :</h5>
                </li>

                <li class="a-admin float-right" >
                  <button class="btn btn-block admin-add-button" ng-click="changeView('Add')">Add Location</button>
                </li>
                <li class="a-admin float-right">
                  <input type="text" class="admin-search" ng-model="searchText" ng-change="filter()" maxlength=40 placeholder="Search" >
                </li>
              </ul>
            </div>

            <div class=" container-table"  >
              <table class="table table-bordered">
                <thead>
                <tr>
                  <th>Name</th>
                  <th class="col-xs-1"></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="row in filterResults">
                  <td>{{row.name}}</td>

                  <td class="icon-col">
                    <span class="glyphicon glyphicon-pencil table-icon" ng-click="changeView('Edit', row)"></span> <span class="glyphicon glyphicon-trash table-icon"></span>
                  </td>
                </tr>

                </tbody>
              </table>
            </div>

            <ul uib-pagination total-items="numPages" ng-model="bigCurrentPage" max-size="maxSize" class="pagination-sm" boundary-link-numbers="true" ng-change="filter()" ></ul>

          </div>

        </div>

      </uib-tab>

      <uib-tab heading="Categories" >

        <div ng-controller="AdminCategoryManipulationController as $cat">

          <div ng-show="!view" >
            <div class="card-admin-tabs">

              <ul class="list-inline text-left admin-tabs">
                <li   >
                  <h5  class="admin-tab-name">Categories :</h5>
                </li>

                <li class="a-admin float-right"  >
                  <button class="btn btn-block admin-add-button" ng-click="changeView('Add')">Add Category</button>
                </li>
                <li class="a-admin float-right" >
                  <input type="text" class="admin-search" ng-model="searchText" ng-change="filter()" maxlength=40 placeholder="Search" >
                </li>
              </ul>
            </div>

            <div class=" container-table"  >
              <table class="table table-bordered">
                <thead>
                <tr>
                  <th>Name</th>
                  <th class="col-xs-1"></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="row in filterResults">
                  <td>{{row.name}}</td>

                  <td class="icon-col">
                    <span class="glyphicon glyphicon-pencil table-icon" ng-click="changeView('Edit', row)"></span> <span class="glyphicon glyphicon-trash table-icon"></span>
                  </td>
                </tr>

                </tbody>
              </table>
            </div>

            <ul uib-pagination total-items="numPages" ng-model="bigCurrentPage" max-size="maxSize" class="pagination-sm" boundary-link-numbers="true" ng-change="filter()" ></ul>

          </div>

          <div class="container card-admin-tabs " ng-show="view">

            <!--add-->
            <form name="CategoryForm" class="admin-add-user" ng-show="add===true" ng-submit="changeCategory('Add')" novalidate>
              <div class="row">
                <div class="col-xs-12 col-sm-6">

                  <input type="text" maxlength="240" ng-model="categoryName" class="login-form-control input-lg input-admin-forms" required>
                  <div ng-if="error" class="alert alert-danger">{{error}}</div>
                  <div ng-if="success" class="alert alert-success">{{success}}</div>
                </div>
                <div class="col-xs-12 col-sm-6">
                  <div class="col-xs-12 col-sm-6">
                    <button class="btn admin-menu-add btn-block" type="button" ng-click="cancel()">
                      Back
                    </button>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <button type="submit"
                            class="btn btn-primary btn-block no-border btn-lg input-admin-forms btn-submit"
                            ng-disabled="CategoryForm.$invalid">
                      Create Category
                    </button>

                    <!--<img class="center-block loading" src="../images/ajax-loader.gif" ng-show="!loading" /> -->

                  </div>
                </div>
              </div>
            </form>

            <!--edit-->
            <form name="CategoryForm" class="admin-add-user" ng-show="edit===true" ng-submit="changeCategory('Edit')" novalidate>
              <div class="row">
                <div class="col-xs-12 col-sm-6">

                  <input type="text" maxlength="240" ng-model="categoryName" class="login-form-control input-lg input-admin-forms" required>
                  <div ng-if="error" class="alert alert-danger">{{error}}</div>
                  <div ng-if="success" class="alert alert-success">{{success}}</div>
                </div>
                <div class="col-xs-12 col-sm-6">
                  <div class="col-xs-12 col-sm-6">
                    <button class="btn admin-menu-add btn-block" type="button" ng-click="cancel()">
                      Back
                    </button>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <button type="submit"
                            class="btn btn-primary btn-block no-border btn-lg input-admin-forms btn-submit"
                            ng-disabled="CategoryForm.$invalid">
                      Save Category
                    </button>

                    <!--<img class="center-block loading" src="../images/ajax-loader.gif" ng-show="!loading" /> -->

                  </div>
                </div>
              </div>
            </form>

          </div>

        </div>

      </uib-tab>

      <uib-tab heading="Users">

        <div ng-controller="AdminUserManipulationController">

          <div ng-show="!view" >
            <div class="card-admin-tabs">

              <ul class="list-inline text-left admin-tabs">
                <li   >
                  <h5  class="admin-tab-name">Users :</h5>
                </li>

                <li class="a-admin float-right"  >
                  <button class="btn btn-block admin-add-button" ng-click="changeView('Add')">Add User</button>
                </li>
                <li class="a-admin float-right" >
                  <input type="text" class="admin-search" ng-model="searchText" ng-change="filter()" maxlength=40 placeholder="Search" >
                </li>
              </ul>
            </div>

            <div class=" container-table"  >
              <table class="table table-bordered">
                <thead>
                <tr>
                  <th>Firstname</th>
                  <th>Lastname</th>
                  <th>Email</th>
                  <th class="col-xs-1"></th>
                </tr>
                </thead>
                <tbody>
                <tr  ng-repeat="row in filterResults">
                  <td>{{row.user_data.firstName}}</td>
                  <td>{{row.user_data.lastName}}</td>
                  <td>{{row.email}}</td>
                  <td class="icon-col">
                    <span class="glyphicon glyphicon-pencil table-icon" ></span> <span class="glyphicon glyphicon-trash table-icon"></span>
                  </td>
                </tr>

                </tbody>
              </table>
            </div>

            <ul uib-pagination total-items="numPages" ng-model="bigCurrentPage" max-size="maxSize" class="pagination-sm" boundary-link-numbers="true" ng-change="filter()" ></ul>

          </div>

          <div class="container card-admin-tabs "  ng-show="view && add===true">
            <form  ng-controller="RegisterController" name="registerForm" class="admin-add-user" ng-submit="addSubmit(registerForm.$valid)" novalidate>
              <div class="row">
                <div class="col-xs-12 col-sm-6">
                  <h5>First Name</h5>
                  <div class="form-group formg">
                    <input name="firstName"
                           class="login-form-control input-lg input-admin-forms"
                           type="text"
                           id="firstName"
                           placeholder="First Name"
                           ng-model="firstName"
                           required="required">
                  </div>

                  <h5>Last Name</h5>

                  <div class="form-group formg">
                    <input name="lastName"
                           class="login-form-control input-lg input-admin-forms"
                           type="text"
                           id="lastName"
                           placeholder="Last Name"
                           ng-model="lastName"
                           required="required"
                    >
                  </div>

                  <h5>Email</h5>

                  <div class="form-group formg"
                       ng-class="{'has-error' : registerForm.email.$invalid && !registerForm.email.$pristine}">
                    <input name="email"
                           class="login-form-control input-lg input-admin-forms "
                           type="email"
                           id="email"
                           placeholder="Email"
                           ng-model="email"
                           required="required">
                    <p ng-show="registerForm.email.$invalid && !registerForm.email.$pristine" class="help-block">Enter a valid email.</p>
                  </div>

                  <h5>Phone</h5>

                  <div class="form-group formg"
                       ng-class="{'has-error' : registerForm.phone.$touched && !registerForm.phone.$pristine && !registerForm.phone.$valid  }">
                    <input name="phone"
                           class="login-form-control input-lg input-admin-forms "
                           type="text" id="phone"
                           placeholder="Phone Number"
                           ng-model="phone"
                           ng-minlength="9"
                           required="required">

                    <p ng-show="registerForm.phone.$touched && !registerForm.phone.$pristine && !registerForm.phone.$valid" class="help-block">Phone number must be at least 9 cases long.</p>
                  </div>



                  <div class="row no-gutters">
                    <div class="col-sm-6  formg">
                      <h5>Country</h5>

                      <select class="custom-select login-form-control input-lg input-admin-forms"
                              ng-model="country"
                              ng-options="c.country_name for c in locations"
                              required="required">
                        <option value="" disabled selected>Country</option>
                      </select>
                    </div>

                    <div class="col-sm-6 formg ">
                      <h5>City</h5>

                      <select class=" login-form-control input-lg input-admin-forms"
                              ng-model="city"
                              ng-options="d.valueOf() for d in country.city_names"
                              required="required">
                        <option value="" disabled selected>City</option>
                      </select>
                    </div>
                  </div>

                  <h5>Password</h5>

                  <div class="form-group formg"
                       ng-class="{'has-error' : registerForm.password.$touched && !registerForm.password.$pristine && !registerForm.password.$valid }">
                    <input name="password"
                           class="login-form-control input-lg input-admin-forms "
                           type="password"
                           id="password"
                           placeholder="Password"
                           ng-model="password"
                           required="required"
                           minlength=5>
                    <p ng-show=" registerForm.password.$touched && !registerForm.password.$pristine && !registerForm.password.$valid" class="help-block">Password needs to be at least 5 characters long!</p>

                  </div>

                  <h5>Confirm Password</h5>

                  <div class="form-group formg bottom"
                       ng-class="{'has-error' : registerForm.confirmPassword.$touched   && confirmPassword!=password || !registerForm.confirmPassword.$pristine && !registerForm.confirmPassword.$valid }">
                    <input name="confirmPassword"
                           class="login-form-control input-lg input-admin-forms"
                           type="password"
                           id="confirmPassword"
                           placeholder="Confirm Password"
                           ng-model="confirmPassword"
                           required="required"
                           minlength=5>

                    <p ng-show=" registerForm.confirmPassword.$touched  && confirmPassword!=password" class="help-block">Passwords do not match.</p>
                  </div>


                  <div ng-if="error" class="alert alert-danger">{{error}}</div>
                  <div ng-if="success" class="alert alert-success">{{success}}</div>
                </div>

                <div class="col-xs-12 col-sm-6 button-admin-add-user">

                  <div class="col-xs-12 col-sm-6">
                    <button class="btn admin-menu-add btn-block" type="button" ng-click="$parent.cancel()">
                      Cancel
                    </button>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <button type="submit"
                            class="btn btn-primary btn-block no-border btn-lg input-admin-forms btn-submit"
                            ng-disabled="registerForm.$invalid">
                      Create User
                    </button>
                    <div>
                      <img class="center-block loading" src="../images/ajax-loader.gif" ng-show="loading" />
                    </div>
                  </div>


                </div>
              </div>

            </form>
          </div>

        </div>


      </uib-tab>

    </uib-tabset >
































    <!--
    <div class="card-admin-tabs">

      <ul class="list-inline text-left admin-tabs">
        <li   class="a-admin">
          <a ng-click="changePanel('Dashboard')" ng-class="{'admin-active' : currentPanel === 'Dashboard'}" >Dashboard</a>
        </li>
        <li class="a-admin">
          <a ng-click="changePanel('Restaurants')" ng-class="{'admin-active' : currentPanel === 'Restaurants'}">Restaurants</a>
        </li>
        <li class="a-admin">
          <a ng-click="changePanel('Locations')" ng-class="{'admin-active' : currentPanel === 'Locations'}">Locations</a>
        </li>
        <li class="a-admin">
          <a ng-click="changePanel('Categories')" ng-class="{'admin-active' : currentPanel === 'Categories'}">Categories</a>
        </li>
        <li class="a-admin">
          <a ng-click="changePanel('Users')" ng-class="{'admin-active' : currentPanel === 'Users'}">Users</a>
        </li>
        <li class="a-admin float-right"  ng-if="currentPanel!=='Dashboard'">
          <button class="btn btn-block admin-add-button" ng-click="changeObject('Add')">Add {{currentPanel}}</button>
        </li>
        <li class="a-admin float-right" ng-show="currentPanel!=='Dashboard'">
          <input type="text" class="admin-search" ng-model="searchText" ng-change="filter()" maxlength=40 placeholder="Search" >
        </li>
      </ul>
    </div>

-->

  </div>
</body>
